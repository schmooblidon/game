{"version":3,"sources":["webpack:///webpack/bootstrap 22186c78c9120557a384","webpack:///./js/main.js","webpack:///./js/input.js","webpack:///./js/physics.js","webpack:///./js/player.js","webpack:///./js/render.js","webpack:///./js/utils/Vec.js"],"names":["elem","document","getElementById","params","fullscreen","two","Two","appendTo","p","playing","startPrompt","console","log","navigator","getGamepads","gameLoop","input","updateInput","setTimeout","start","remove","play","onkeydown","onkeyup","findInput","overrideKeyboardEvent","controllerIndex","lStickX","lStickY","a","angle","magnitude","i","keys","gamepads","gamepad","undefined","axes","Math","abs","buttons","pressed","atan2","min","sqrt","pow","length","j","e","keyCode","type","disabledEventPropagation","preventDefault","stopPropagation","event","cancelBubble","physics","angDiff","sin","cos","sign","vel","x","speed","y","pos","player","PI","tail","makeCircle","fill","tailgroup","makeGroup","translation","set","width","height","noStroke","head","group","updateRenderObjects","bind","frameCount","Vec"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 22186c78c9120557a384","import {player} from \"./player\";\r\nimport {physics} from \"./physics\";\r\nimport {updateRenderObjects} from \"./render\";\r\nimport {overrideKeyboardEvent, findInput} from \"./input\";\r\n\r\n// setting up renderer\r\nconst elem = document.getElementById(\"game\");\r\nconst params = {fullscreen : true};\r\nexport const two = new Two(params).appendTo(elem);\r\n\r\n// setting up player\r\nexport const p = new player();\r\n\r\n\r\n\r\n// setting up other variables\r\nlet playing = false;\r\nconst startPrompt = document.getElementById(\"startPrompt\");\r\n\r\nconsole.log(navigator.getGamepads());\r\n\r\n// defining the game logic loop\r\nfunction gameLoop() {\r\n  p.input.updateInput();\r\n  physics(p);\r\n  \r\n  setTimeout(function(){gameLoop()}, 16.666667);\r\n}\r\n\r\n// when page is loaded and it asks for input\r\nfunction start() {\r\n  if (!playing) {\r\n    if (findInput(p)){\r\n      // start game logic and render loops\r\n      playing = true;\r\n      startPrompt.remove();\r\n      gameLoop();\r\n      updateRenderObjects();\r\n      two.play();\r\n    }\r\n    setTimeout(function(){start()}, 16.6666667);\r\n  }\r\n}\r\n/*export let tail = [];\r\nexport let tailgroup = [];\r\nfor (let i=0;i<29;i++) {\r\n  tail[i] = two.makeCircle(0, 0, 10);\r\n  tail[i].fill = \"#ff8000\";\r\n  tail[i].translation.set(two.width/2 + i, two.height/2 + i);\r\n}*/\r\n\r\n// overriding keyboard events to disable unwanted events and store properly\r\ndocument.onkeydown = overrideKeyboardEvent;\r\ndocument.onkeyup = overrideKeyboardEvent;\r\n\r\nstart();\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","export function input() {\r\n  this.controllerIndex = -1;\r\n  this.lStickX = [0];\r\n  this.lStickY = [0];\r\n  this.a = [false];\r\n\r\n  this.angle = [0];\r\n  this.magnitude = [0];\r\n\r\n  this.updateInput = function() {\r\n    // push inputs back a frame in history\r\n    for (let i=4;i>0;i--) {\r\n      this.lStickX[i] = this.lStickX[i-1];\r\n      this.lStickY[i] = this.lStickY[i-1];\r\n      this.a[i] = this.a[i-1];\r\n      this.angle[i] = this.angle[i-1];\r\n      this.magnitude[i] = this.magnitude[i-1];\r\n    }\r\n\r\n    // if using keyboard\r\n    if (this.controllerIndex === -1) {\r\n      this.lStickX[0] = ((keys[68] || keys[39]) ? 1 : 0) + ((keys[65] || keys[37]) ? -1 : 0);\r\n      this.lStickY[0] = ((keys[87] || keys[38]) ? 1 : 0) + ((keys[83] || keys[40]) ? -1 : 0);\r\n      this.a[0] = keys[32] || keys[90];\r\n    }\r\n    // else if using a gamepad\r\n    else {\r\n      const gamepads = navigator.getGamepads();\r\n      const gamepad = gamepads[this.controllerIndex];\r\n      // if gamepad is unplugged or removed. change to keyboard\r\n      if (gamepad === null || gamepad === undefined) {\r\n        this.controllerIndex = -1;\r\n      }\r\n      else {\r\n        this.lStickX[0] = gamepad.axes[0];\r\n        this.lStickY[0] = gamepad.axes[1] * -1;\r\n        if (Math.abs(this.lStickY[0]) < 0.3 && Math.abs(this.lStickX[0]) < 0.3) {\r\n          this.lStickX[0] = 0\r\n          this.lStickY[0] = 0;\r\n        }\r\n        this.a[0] = gamepad.buttons[0].pressed;\r\n      }\r\n    }\r\n\r\n    // calculate new inputs\r\n    this.angle[0] = Math.atan2(this.lStickY[0], this.lStickX[0]);\r\n    this.magnitude[0] = Math.min(1, Math.sqrt(Math.pow(this.lStickX[0], 2) + Math.pow(this.lStickY[0], 2)));\r\n  }\r\n}\r\n\r\nexport function findInput(p) {\r\n  // if enter or space is hit\r\n  if (keys[13] || keys[32]) {\r\n    p.input.controllerIndex = -1;\r\n    return true;\r\n  }\r\n  // else look for a button press on a gamepad\r\n  else {\r\n    const gamepads = navigator.getGamepads();\r\n    for (let i=0;i<gamepads.length;i++) {\r\n      for (let j=0;j<gamepads[i].buttons.length;j++) {\r\n        if (gamepads[i].buttons[j].pressed) {\r\n          p.input.controllerIndex = i;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nexport const keys = {};\r\n\r\nexport function overrideKeyboardEvent (e){\r\n  // do this for all keys except f5 and f11\r\n  if (e.keyCode != 122 && e.keyCode != 116){\r\n    switch(e.type){\r\n      case \"keydown\":\r\n        if (!keys[e.keyCode]) {\r\n          keys[e.keyCode] = true;\r\n        }\r\n        break;\r\n      case \"keyup\":\r\n        delete(keys[e.keyCode]);\r\n        break;\r\n    }\r\n    disabledEventPropagation(e);\r\n    e.preventDefault();\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n}\r\n\r\nfunction disabledEventPropagation (e){\r\n  if(e){\r\n    if(e.stopPropagation){\r\n      e.stopPropagation();\r\n    } else if(event){\r\n       event.cancelBubble = true;\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/input.js","export function physics(p) {\r\n\r\n  // find distance between target angle and current angle\r\n  let angDiff = (p.input.angle[0] - p.angle);\r\n \r\n  // make sure distance uses shortest path (check going through -pi / pi breakpoint)\r\n  angDiff = Math.atan2(Math.sin(angDiff), Math.cos(angDiff));\r\n\r\n  // move current angle towards target according to distance with multipliers\r\n  //p.angle += angDiff * 0.2 * p.input.magnitude[0];\r\n  p.angle += Math.sign(angDiff) * Math.min(Math.abs(angDiff), 0.1) * p.input.magnitude[0];\r\n\r\n  p.vel.x = Math.cos(p.angle) * p.speed;\r\n  p.vel.y = Math.sin(p.angle) * p.speed;\r\n\r\n  for (let i=29;i>0;i--) {\r\n    p.pos[i].x = p.pos[i-1].x;\r\n    p.pos[i].y = p.pos[i-1].y;\r\n  }\r\n\r\n  p.pos[0].x += p.vel.x;\r\n  p.pos[0].y += p.vel.y;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/physics.js","import {Vec} from \"./utils/Vec\";\r\nimport {two} from \"./main\";\r\nimport {input} from \"./input\";\r\n\r\nexport function player() {\r\n  this.pos = [];\r\n  for (let i=0;i<30;i++) {\r\n    this.pos[i] = new Vec();\r\n  }\r\n  this.vel = new Vec();\r\n  this.angle = Math.PI/2;\r\n  this.speed = 5;\r\n\r\n  this.input = new input();\r\n\r\n  this.tail = [];\r\n  for (let i=0;i<29;i++) {\r\n    this.tail[i] = two.makeCircle(i, i, 5);\r\n    this.tail[i].fill = \"#ff8000\"\r\n  }\r\n  this.tailgroup = two.makeGroup(this.tail);\r\n  this.tailgroup.translation.set(two.width/2, two.height/2);\r\n  this.tailgroup.noStroke();\r\n\r\n  this.head = two.makeCircle(0, 0, 10);\r\n  this.head.fill = \"#ff8000\";\r\n\r\n  this.group = two.makeGroup(this.head);\r\n  this.group.translation.set(two.width/2, two.height/2);\r\n  this.group.noStroke();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/player.js","import {p, two, tail} from \"./main\";\r\n\r\nexport function updateRenderObjects() {\r\n  two.bind('update', function(frameCount) {\r\n    p.group.translation.set(two.width/2 + p.pos[0].x, two.height/2 + p.pos[0].y * -1);\r\n    p.tailgroup.translation.set(two.width/2, two.height/2)\r\n    for (let i=0;i<29;i++) {\r\n      p.tail[i].translation.set(p.pos[i+1].x, p.pos[i+1].y * -1);\r\n    }\r\n  });\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/render.js","export function Vec(x = 0, y = 0){\r\n  this.x = x;\r\n  this.y = y;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/Vec.js"],"sourceRoot":""}