{"version":3,"sources":["webpack:///webpack/bootstrap cf67c84161e394dd4e90","webpack:///./js/main.js","webpack:///./js/input.js","webpack:///./js/physics.js","webpack:///./js/player.js","webpack:///./js/render.js","webpack:///./js/utils/Vec.js","webpack:///./js/utils/Line.js","webpack:///./js/utils/LineCollider.js","webpack:///./js/utils/Point.js","webpack:///./js/stage.js","webpack:///./js/gameObjects/steppingStone.js","webpack:///./js/utils/CircleCollider.js","webpack:///./js/utils/LineVsCircle.js"],"names":["elem","document","getElementById","params","fullscreen","two","Two","appendTo","p","playing","startPrompt","pauseScreen","console","log","navigator","getGamepads","gameLoop","input","updateInput","s","style","display","setTimeout","start","remove","play","onkeydown","onkeyup","findInput","overrideKeyboardEvent","controllerIndex","lStickX","lStickY","lTrigger","rTrigger","lBumper","rBumper","a","angle","magnitude","i","keys","gamepads","gamepad","undefined","axes","Math","abs","buttons","pressed","value","atan2","min","sqrt","pow","length","j","e","keyCode","type","disabledEventPropagation","preventDefault","stopPropagation","event","cancelBubble","physics","acceleration","limit","normalSpeed","minSpeed","maxSpeed","speed","max","friction","angDiff","sin","cos","sign","rotation","vel","x","y","bumperTimer","bumperSpeed","maxBumperSpeed","setBumperSpeed","tailLength","pos","colours","wrapped","rotatedBumperSpeed","PI","renderAngle","w","body","clientWidth","h","clientHeight","round","collider","line","p1","p2","player","bumperFriction","ease","tail","Line","stroke","tailGroup","makeGroup","translation","set","width","height","linewidth","noFill","head","makePath","group","noStroke","updateRenderObjects","fill","vertices","Vec","Dot","vec","LineCollider","Point","buildStage","updateStage","stage","steppingStones","update","steppingStone","center","radius","circleCollider","opacity","colour","switch","steppedOnLastFrame","circleRender","makeCircle","onStep","CircleCollider","point","LineVsCircle","lineC","circleC","d","f","b","c","discriminant","t1","t2"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;AChEA;;AACA;;AACA;;AACA;;AACA;;AAEA;AACA,IAAMA,OAAOC,SAASC,cAAT,CAAwB,MAAxB,CAAb;AACA,IAAMC,SAAS,EAACC,YAAa,IAAd,EAAf;AACO,IAAMC,oBAAM,IAAIC,GAAJ,CAAQH,MAAR,EAAgBI,QAAhB,CAAyBP,IAAzB,CAAZ;;AAEP;AACA;AACA;AACO,IAAMQ,gBAAI,oBAAV;;AAEP;AACA,IAAIC,UAAU,KAAd;AACA,IAAMC,cAAcT,SAASC,cAAT,CAAwB,aAAxB,CAApB;AACA,IAAMS,cAAcV,SAASC,cAAT,CAAwB,OAAxB,CAApB;;AAEA;AACAU,QAAQC,GAAR,CAAYC,UAAUC,WAAV,EAAZ;;AAEA;AACA,SAASC,QAAT,GAAoB;AAClB;AACAR,IAAES,KAAF,CAAQC,WAAR;AACA;AACA,MAAIV,EAAES,KAAF,CAAQE,CAAR,CAAU,CAAV,KAAgB,CAACX,EAAES,KAAF,CAAQE,CAAR,CAAU,CAAV,CAArB,EAAmC;AACjCV,eAAW,IAAX;AACAE,gBAAYS,KAAZ,CAAkBC,OAAlB,GAA4BZ,UAAU,MAAV,GAAmB,OAA/C;AACD;AACD,MAAIA,OAAJ,EAAa;AACX,0BAAQD,CAAR;AACA;AACA,qCAAoBA,CAApB;AACD;AACDc,aAAW,YAAU;AAACN;AAAW,GAAjC,EAAmC,SAAnC;AACD;;AAED;AACA,SAASO,KAAT,GAAiB;AACf,MAAI,CAACd,OAAL,EAAc;AACZ,QAAI,sBAAUD,CAAV,CAAJ,EAAiB;AACf;AACAC,gBAAU,IAAV;AACAC,kBAAYc,MAAZ;AACAR;AACAX,UAAIoB,IAAJ;AACD;AACDH,eAAW,YAAU;AAACC;AAAQ,KAA9B,EAAgC,UAAhC;AACD;AACF;;AAED;AACAtB,SAASyB,SAAT;AACAzB,SAAS0B,OAAT;;AAEAJ,Q;;;;;;;;;;;;QC3DgBN,K,GAAAA,K;QAkEAW,S,GAAAA,S;QAyBAC,qB,GAAAA,qB;AA3FT,SAASZ,KAAT,GAAiB;AACtB,OAAKa,eAAL,GAAuB,CAAC,CAAxB;AACA,OAAKC,OAAL,GAAe,CAAC,CAAD,CAAf;AACA,OAAKC,OAAL,GAAe,CAAC,CAAD,CAAf;AACA,OAAKC,QAAL,GAAgB,CAAC,CAAD,CAAhB;AACA,OAAKC,QAAL,GAAgB,CAAC,CAAD,CAAhB;AACA,OAAKC,OAAL,GAAe,CAAC,KAAD,CAAf;AACA,OAAKC,OAAL,GAAe,CAAC,KAAD,CAAf;AACA,OAAKC,CAAL,GAAS,CAAC,KAAD,CAAT;AACA,OAAKlB,CAAL,GAAS,CAAC,KAAD,CAAT;;AAEA,OAAKmB,KAAL,GAAa,CAAC,CAAD,CAAb;AACA,OAAKC,SAAL,GAAiB,CAAC,CAAD,CAAjB;;AAEA,OAAKrB,WAAL,GAAmB,YAAW;AAC5B;AACA,SAAK,IAAIsB,IAAE,CAAX,EAAaA,IAAE,CAAf,EAAiBA,GAAjB,EAAsB;AACpB,WAAKT,OAAL,CAAaS,CAAb,IAAkB,KAAKT,OAAL,CAAaS,IAAE,CAAf,CAAlB;AACA,WAAKR,OAAL,CAAaQ,CAAb,IAAkB,KAAKR,OAAL,CAAaQ,IAAE,CAAf,CAAlB;AACA,WAAKH,CAAL,CAAOG,CAAP,IAAY,KAAKH,CAAL,CAAOG,IAAE,CAAT,CAAZ;AACA,WAAKP,QAAL,CAAcO,CAAd,IAAmB,KAAKP,QAAL,CAAcO,IAAE,CAAhB,CAAnB;AACA,WAAKN,QAAL,CAAcM,CAAd,IAAmB,KAAKN,QAAL,CAAcM,IAAE,CAAhB,CAAnB;AACA,WAAKL,OAAL,CAAaK,CAAb,IAAkB,KAAKL,OAAL,CAAaK,IAAE,CAAf,CAAlB;AACA,WAAKJ,OAAL,CAAaI,CAAb,IAAkB,KAAKJ,OAAL,CAAaI,IAAE,CAAf,CAAlB;AACA,WAAKrB,CAAL,CAAOqB,CAAP,IAAY,KAAKrB,CAAL,CAAOqB,IAAE,CAAT,CAAZ;AACA,WAAKF,KAAL,CAAWE,CAAX,IAAgB,KAAKF,KAAL,CAAWE,IAAE,CAAb,CAAhB;AACA,WAAKD,SAAL,CAAeC,CAAf,IAAoB,KAAKD,SAAL,CAAeC,IAAE,CAAjB,CAApB;AACD;;AAED;AACA,QAAI,KAAKV,eAAL,KAAyB,CAAC,CAA9B,EAAiC;AAC/B,WAAKC,OAAL,CAAa,CAAb,IAAkB,CAAEU,KAAK,EAAL,KAAYA,KAAK,EAAL,CAAb,GAAyB,CAAzB,GAA6B,CAA9B,KAAqCA,KAAK,EAAL,KAAYA,KAAK,EAAL,CAAb,GAAyB,CAAC,CAA1B,GAA8B,CAAlE,CAAlB;AACA,WAAKT,OAAL,CAAa,CAAb,IAAkB,CAAES,KAAK,EAAL,KAAYA,KAAK,EAAL,CAAb,GAAyB,CAAzB,GAA6B,CAA9B,KAAqCA,KAAK,EAAL,KAAYA,KAAK,EAAL,CAAb,GAAyB,CAAC,CAA1B,GAA8B,CAAlE,CAAlB;AACA,WAAKJ,CAAL,CAAO,CAAP,IAAYI,KAAK,EAAL,KAAYA,KAAK,EAAL,CAAxB;AACA,WAAKtB,CAAL,CAAO,CAAP,IAAYsB,KAAK,EAAL,KAAYA,KAAK,EAAL,CAAxB;AACD;AACD;AANA,SAOK;AACH,YAAMC,WAAW5B,UAAUC,WAAV,EAAjB;AACA,YAAM4B,UAAUD,SAAS,KAAKZ,eAAd,CAAhB;AACA;AACA,YAAIa,YAAY,IAAZ,IAAoBA,YAAYC,SAApC,EAA+C;AAC7C,eAAKd,eAAL,GAAuB,CAAC,CAAxB;AACD,SAFD,MAGK;AACH,eAAKC,OAAL,CAAa,CAAb,IAAkBY,QAAQE,IAAR,CAAa,CAAb,CAAlB;AACA,eAAKb,OAAL,CAAa,CAAb,IAAkBW,QAAQE,IAAR,CAAa,CAAb,IAAkB,CAAC,CAArC;AACA,cAAIC,KAAKC,GAAL,CAAS,KAAKf,OAAL,CAAa,CAAb,CAAT,IAA4B,GAA5B,IAAmCc,KAAKC,GAAL,CAAS,KAAKhB,OAAL,CAAa,CAAb,CAAT,IAA4B,GAAnE,EAAwE;AACtE,iBAAKA,OAAL,CAAa,CAAb,IAAkB,CAAlB;AACA,iBAAKC,OAAL,CAAa,CAAb,IAAkB,CAAlB;AACD;AACD,eAAKK,CAAL,CAAO,CAAP,IAAYM,QAAQK,OAAR,CAAgB,CAAhB,EAAmBC,OAA/B;AACA,eAAKhB,QAAL,CAAc,CAAd,IAAmBU,QAAQK,OAAR,CAAgB,CAAhB,EAAmBE,KAAtC;AACA,eAAKhB,QAAL,CAAc,CAAd,IAAmBS,QAAQK,OAAR,CAAgB,CAAhB,EAAmBE,KAAtC;AACA,eAAKf,OAAL,CAAa,CAAb,IAAkBQ,QAAQK,OAAR,CAAgB,CAAhB,EAAmBC,OAArC;AACA,eAAKb,OAAL,CAAa,CAAb,IAAkBO,QAAQK,OAAR,CAAgB,CAAhB,EAAmBC,OAArC;AACA,eAAK9B,CAAL,CAAO,CAAP,IAAYwB,QAAQK,OAAR,CAAgB,CAAhB,EAAmBC,OAA/B;AACD;AACF;;AAED;AACA,SAAKX,KAAL,CAAW,CAAX,IAAgBQ,KAAKK,KAAL,CAAW,KAAKnB,OAAL,CAAa,CAAb,CAAX,EAA4B,KAAKD,OAAL,CAAa,CAAb,CAA5B,CAAhB;AACA,SAAKQ,SAAL,CAAe,CAAf,IAAoBO,KAAKM,GAAL,CAAS,CAAT,EAAYN,KAAKO,IAAL,CAAUP,KAAKQ,GAAL,CAAS,KAAKvB,OAAL,CAAa,CAAb,CAAT,EAA0B,CAA1B,IAA+Be,KAAKQ,GAAL,CAAS,KAAKtB,OAAL,CAAa,CAAb,CAAT,EAA0B,CAA1B,CAAzC,CAAZ,CAApB;AACD,GAjDD;AAkDD;;AAEM,SAASJ,SAAT,CAAmBpB,CAAnB,EAAsB;AAC3B;AACA,MAAIiC,KAAK,EAAL,KAAYA,KAAK,EAAL,CAAhB,EAA0B;AACxBjC,MAAES,KAAF,CAAQa,eAAR,GAA0B,CAAC,CAA3B;AACA,WAAO,IAAP;AACD;AACD;AAJA,OAKK;AACH,UAAMY,WAAW5B,UAAUC,WAAV,EAAjB;AACA,WAAK,IAAIyB,IAAE,CAAX,EAAaA,IAAEE,SAASa,MAAxB,EAA+Bf,GAA/B,EAAoC;AAClC,YAAIE,SAASF,CAAT,MAAgB,IAAhB,IAAwBE,SAASF,CAAT,MAAgBI,SAA5C,EAAuD;AACrD,eAAK,IAAIY,IAAE,CAAX,EAAaA,IAAEd,SAASF,CAAT,EAAYQ,OAAZ,CAAoBO,MAAnC,EAA0CC,GAA1C,EAA+C;AAC7C,gBAAId,SAASF,CAAT,EAAYQ,OAAZ,CAAoBQ,CAApB,EAAuBP,OAA3B,EAAoC;AAClCzC,gBAAES,KAAF,CAAQa,eAAR,GAA0BU,CAA1B;AACA,qBAAO,IAAP;AACD;AACF;AACF;AACF;AACF;AACD,SAAO,KAAP;AACD;;AAEM,IAAMC,sBAAO,EAAb;;AAEA,SAASZ,qBAAT,CAAgC4B,CAAhC,EAAkC;AACvC;AACA,MAAIA,EAAEC,OAAF,IAAa,GAAb,IAAoBD,EAAEC,OAAF,IAAa,GAArC,EAAyC;AACvC,YAAOD,EAAEE,IAAT;AACE,WAAK,SAAL;AACE,YAAI,CAAClB,KAAKgB,EAAEC,OAAP,CAAL,EAAsB;AACpBjB,eAAKgB,EAAEC,OAAP,IAAkB,IAAlB;AACD;AACD;AACF,WAAK,OAAL;AACE,eAAOjB,KAAKgB,EAAEC,OAAP,CAAP;AACA;AARJ;AAUAE,6BAAyBH,CAAzB;AACAA,MAAEI,cAAF;AACA,WAAO,KAAP;AACD,GAdD,MAcO;AACL,WAAO,IAAP;AACD;AACF;;AAED,SAASD,wBAAT,CAAmCH,CAAnC,EAAqC;AACnC,MAAGA,CAAH,EAAK;AACH,QAAGA,EAAEK,eAAL,EAAqB;AACnBL,QAAEK,eAAF;AACD,KAFD,MAEO,IAAGC,KAAH,EAAS;AACbA,YAAMC,YAAN,GAAqB,IAArB;AACF;AACF;AACF,C;;;;;;;;;;;;QCxHeC,O,GAAAA,O;AAAT,SAASA,OAAT,CAAiBzD,CAAjB,EAAoB;;AAEzB;AACAA,IAAE0D,YAAF,GAAiB1D,EAAES,KAAF,CAAQiB,QAAR,CAAiB,CAAjB,IAAsB1B,EAAES,KAAF,CAAQgB,QAAR,CAAiB,CAAjB,IAAsB,CAAC,CAA9D;;AAEA;AACA,MAAIkC,QAAS3D,EAAE0D,YAAF,GAAiB,CAAlB,GAAuB1D,EAAE4D,WAAF,GAAgB,CAAC5D,EAAE6D,QAAF,GAAa7D,EAAE4D,WAAhB,IAA+B,CAAC5D,EAAE0D,YAAzE,GAAwF1D,EAAE4D,WAAF,GAAgB,CAAC5D,EAAE8D,QAAF,GAAa9D,EAAE4D,WAAhB,IAA+B5D,EAAE0D,YAArJ;;AAEA;AACA1D,IAAE0D,YAAF,IAAkB,IAAlB;;AAEA;AACA,MAAI1D,EAAE0D,YAAF,GAAiB,CAArB,EAAwB;AACtB;AACA,QAAI1D,EAAE+D,KAAF,GAAUJ,KAAd,EAAqB;AACnB3D,QAAE+D,KAAF,GAAUzB,KAAK0B,GAAL,CAAShE,EAAE+D,KAAF,GAAU/D,EAAEiE,QAArB,EAA+BN,KAA/B,CAAV;AACD;AACD;AAHA,SAIK;AACH;AACA,YAAI3D,EAAE+D,KAAF,GAAU/D,EAAE4D,WAAhB,EAA6B;AAC3B5D,YAAE+D,KAAF,GAAUzB,KAAKM,GAAL,CAAS5C,EAAE+D,KAAF,GAAU/D,EAAE0D,YAAZ,GAA2B1D,EAAEiE,QAAtC,EAAgDN,KAAhD,CAAV;AACD,SAFD,MAGK;AACH3D,YAAE+D,KAAF,GAAUzB,KAAKM,GAAL,CAAS5C,EAAE+D,KAAF,GAAU/D,EAAE0D,YAArB,EAAmCC,KAAnC,CAAV;AACD;AACF;AACF,GAfD,MAgBK,IAAI3D,EAAE0D,YAAF,GAAiB,CAArB,EAAwB;AAC3B;AACA,QAAI1D,EAAE+D,KAAF,GAAUJ,KAAd,EAAqB;AACnB3D,QAAE+D,KAAF,GAAUzB,KAAKM,GAAL,CAAS5C,EAAE+D,KAAF,GAAU/D,EAAEiE,QAArB,EAA+BN,KAA/B,CAAV;AACD;AACD;AAHA,SAIK;AACH;AACA,YAAI3D,EAAE+D,KAAF,GAAU/D,EAAE4D,WAAhB,EAA6B;AAC3B5D,YAAE+D,KAAF,GAAUzB,KAAK0B,GAAL,CAAShE,EAAE+D,KAAF,GAAU/D,EAAE0D,YAAZ,GAA2B1D,EAAEiE,QAAtC,EAAgDN,KAAhD,CAAV;AACD,SAFD,MAGK;AACH3D,YAAE+D,KAAF,GAAUzB,KAAK0B,GAAL,CAAShE,EAAE+D,KAAF,GAAU/D,EAAE0D,YAArB,EAAmCC,KAAnC,CAAV;AACD;AACF;AACF;AACD;AAhBK,OAiBA;AACH,UAAI3D,EAAE+D,KAAF,GAAU/D,EAAE4D,WAAhB,EAA6B;AAC3B5D,UAAE+D,KAAF,IAAW/D,EAAEiE,QAAb;AACA,YAAIjE,EAAE+D,KAAF,GAAU/D,EAAE4D,WAAhB,EAA6B;AAC3B5D,YAAE+D,KAAF,GAAU/D,EAAE4D,WAAZ;AACD;AACF,OALD,MAMK;AACH5D,UAAE+D,KAAF,IAAW/D,EAAEiE,QAAb;AACA,YAAIjE,EAAE+D,KAAF,GAAU/D,EAAE4D,WAAhB,EAA6B;AAC3B5D,YAAE+D,KAAF,GAAU/D,EAAE4D,WAAZ;AACD;AACF;AACF;;AAED;AACA,MAAIM,UAAWlE,EAAES,KAAF,CAAQqB,KAAR,CAAc,CAAd,IAAmB9B,EAAE8B,KAApC;;AAEA;AACAoC,YAAU5B,KAAKK,KAAL,CAAWL,KAAK6B,GAAL,CAASD,OAAT,CAAX,EAA8B5B,KAAK8B,GAAL,CAASF,OAAT,CAA9B,CAAV;;AAEA;;AAEA;AACA;;AAEA;AACAlE,IAAE8B,KAAF,IAAWQ,KAAK+B,IAAL,CAAUH,OAAV,IAAqB5B,KAAKM,GAAL,CAASN,KAAKC,GAAL,CAAS2B,OAAT,CAAT,EAA4BlE,EAAEsE,QAA9B,CAArB,GAA+DtE,EAAES,KAAF,CAAQsB,SAAR,CAAkB,CAAlB,CAA1E;;AAEA/B,IAAEuE,GAAF,CAAMC,CAAN,GAAUlC,KAAK8B,GAAL,CAASpE,EAAE8B,KAAX,IAAoB9B,EAAE+D,KAAhC;AACA/D,IAAEuE,GAAF,CAAME,CAAN,GAAUnC,KAAK6B,GAAL,CAASnE,EAAE8B,KAAX,IAAoB9B,EAAE+D,KAAhC;;AAEA;;;;;;;;;;;;AAYA,MAAI/D,EAAE0E,WAAF,GAAgB,CAApB,EAAuB;AACrB1E,MAAE0E,WAAF;AACA,QAAI1E,EAAE0E,WAAF,IAAiB,CAArB,EAAwB;AACtB1E,QAAE2E,WAAF,GAAgB,CAAhB;AACD;AACF;;AAED,MAAI3E,EAAES,KAAF,CAAQkB,OAAR,CAAgB,CAAhB,KAAsB,CAAC3B,EAAES,KAAF,CAAQkB,OAAR,CAAgB,CAAhB,CAA3B,EAA+C;AAC7C3B,MAAE2E,WAAF,GAAgBrC,KAAK0B,GAAL,CAAS,CAAChE,EAAE4E,cAAZ,EAA4B5E,EAAE2E,WAAF,GAAgB3E,EAAE6E,cAA9C,CAAhB;AACA7E,MAAE0E,WAAF,GAAgB,CAAhB;AACD;AACD,MAAI1E,EAAES,KAAF,CAAQmB,OAAR,CAAgB,CAAhB,KAAsB,CAAC5B,EAAES,KAAF,CAAQmB,OAAR,CAAgB,CAAhB,CAA3B,EAA+C;AAC7C5B,MAAE2E,WAAF,GAAgBrC,KAAKM,GAAL,CAAS5C,EAAE4E,cAAX,EAA2B5E,EAAE2E,WAAF,GAAgB3E,EAAE6E,cAA7C,CAAhB;AACA7E,MAAE0E,WAAF,GAAgB,CAAhB;AACD;;AAED,OAAK,IAAI1C,IAAEhC,EAAE8E,UAAF,GAAa,CAAxB,EAA0B9C,IAAE,CAA5B,EAA8BA,GAA9B,EAAmC;AACjChC,MAAE+E,GAAF,CAAM/C,CAAN,EAASwC,CAAT,GAAaxE,EAAE+E,GAAF,CAAM/C,IAAE,CAAR,EAAWwC,CAAxB;AACAxE,MAAE+E,GAAF,CAAM/C,CAAN,EAASyC,CAAT,GAAazE,EAAE+E,GAAF,CAAM/C,IAAE,CAAR,EAAWyC,CAAxB;AACAzE,MAAEgF,OAAF,CAAUhD,CAAV,IAAehC,EAAEgF,OAAF,CAAUhD,IAAE,CAAZ,CAAf;AACAhC,MAAEiF,OAAF,CAAUjD,CAAV,IAAehC,EAAEiF,OAAF,CAAUjD,IAAE,CAAZ,CAAf;AACD;;AAEDhC,IAAEkF,kBAAF,CAAqBV,CAArB,GAAyBlC,KAAK8B,GAAL,CAASpE,EAAE8B,KAAF,GAAQQ,KAAK6C,EAAL,GAAQ,CAAzB,IAA8BnF,EAAE2E,WAAzD;AACA3E,IAAEkF,kBAAF,CAAqBT,CAArB,GAAyBnC,KAAK6B,GAAL,CAASnE,EAAE8B,KAAF,GAAQQ,KAAK6C,EAAL,GAAQ,CAAzB,IAA8BnF,EAAE2E,WAAzD;;AAEA3E,IAAE+E,GAAF,CAAM,CAAN,EAASP,CAAT,IAAcxE,EAAEuE,GAAF,CAAMC,CAAN,GAAUxE,EAAEkF,kBAAF,CAAqBV,CAA7C;AACAxE,IAAE+E,GAAF,CAAM,CAAN,EAASN,CAAT,IAAczE,EAAEuE,GAAF,CAAME,CAAN,GAAUzE,EAAEkF,kBAAF,CAAqBT,CAA7C;;AAEAzE,IAAEoF,WAAF,GAAgB9C,KAAKK,KAAL,CAAW3C,EAAEuE,GAAF,CAAME,CAAN,GAAUzE,EAAEkF,kBAAF,CAAqBT,CAA1C,EAA6CzE,EAAEuE,GAAF,CAAMC,CAAN,GAAUxE,EAAEkF,kBAAF,CAAqBV,CAA5E,CAAhB;;AAEA;AACA,MAAMa,IAAI5F,SAAS6F,IAAT,CAAcC,WAAd,GAA4B,EAAtC;AACA,MAAMC,IAAI/F,SAAS6F,IAAT,CAAcG,YAAd,GAA6B,EAAvC;AACAzF,IAAEiF,OAAF,CAAU,CAAV,IAAe,KAAf;AACA,MAAIjF,EAAE+E,GAAF,CAAM,CAAN,EAASP,CAAT,GAAaa,IAAE,CAAnB,EAAsB;AACpBrF,MAAE+E,GAAF,CAAM,CAAN,EAASP,CAAT,IAAca,CAAd;AACArF,MAAEiF,OAAF,CAAU,CAAV,IAAe,IAAf;AACD,GAHD,MAIK,IAAIjF,EAAE+E,GAAF,CAAM,CAAN,EAASP,CAAT,GAAa,CAACa,CAAD,GAAG,CAApB,EAAuB;AAC1BrF,MAAE+E,GAAF,CAAM,CAAN,EAASP,CAAT,IAAca,CAAd;AACArF,MAAEiF,OAAF,CAAU,CAAV,IAAe,IAAf;AACD;AACD,MAAIjF,EAAE+E,GAAF,CAAM,CAAN,EAASN,CAAT,GAAae,IAAE,CAAnB,EAAsB;AACpBxF,MAAE+E,GAAF,CAAM,CAAN,EAASN,CAAT,IAAce,CAAd;AACAxF,MAAEiF,OAAF,CAAU,CAAV,IAAe,IAAf;AACD,GAHD,MAIK,IAAIjF,EAAE+E,GAAF,CAAM,CAAN,EAASN,CAAT,GAAa,CAACe,CAAD,GAAG,CAApB,EAAuB;AAC1BxF,MAAE+E,GAAF,CAAM,CAAN,EAASN,CAAT,IAAce,CAAd;AACAxF,MAAEiF,OAAF,CAAU,CAAV,IAAe,IAAf;AACD;;AAED;AACAjF,IAAEgF,OAAF,CAAU,CAAV,IAAe,SAAO1C,KAAKoD,KAAL,CAAWpD,KAAK0B,GAAL,CAAS,CAAT,EAAY1B,KAAKM,GAAL,CAAS,GAAT,EAAe,CAAC5C,EAAE8D,QAAF,GAAW9D,EAAE+D,KAAd,KAAsB/D,EAAE8D,QAAF,GAAa9D,EAAE4D,WAArC,CAAD,GAAoD,GAAlE,CAAZ,CAAX,CAAP,GAAuG,GAAvG,GAA2GtB,KAAKoD,KAAL,CAAWpD,KAAK0B,GAAL,CAAS,CAAT,EAAY1B,KAAKM,GAAL,CAAS,GAAT,EAAe,CAAC5C,EAAE+D,KAAF,GAAQ/D,EAAE6D,QAAX,KAAsB7D,EAAE4D,WAAF,GAAgB5D,EAAE6D,QAAxC,CAAD,GAAoD,GAAlE,CAAZ,CAAX,CAA3G,GAA2M,KAA1N;;AAEA7D,IAAE2F,QAAF,CAAWC,IAAX,CAAgBC,EAAhB,CAAmBrB,CAAnB,GAAuBxE,EAAE+E,GAAF,CAAM,CAAN,EAASP,CAAhC;AACAxE,IAAE2F,QAAF,CAAWC,IAAX,CAAgBC,EAAhB,CAAmBpB,CAAnB,GAAuBzE,EAAE+E,GAAF,CAAM,CAAN,EAASN,CAAhC;AACA,MAAIzE,EAAEiF,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChBjF,MAAE2F,QAAF,CAAWC,IAAX,CAAgBE,EAAhB,CAAmBtB,CAAnB,GAAuBxE,EAAE+E,GAAF,CAAM,CAAN,EAASP,CAAhC;AACAxE,MAAE2F,QAAF,CAAWC,IAAX,CAAgBE,EAAhB,CAAmBrB,CAAnB,GAAuBzE,EAAE+E,GAAF,CAAM,CAAN,EAASN,CAAhC;AACD,GAHD,MAIK;AACHzE,MAAE2F,QAAF,CAAWC,IAAX,CAAgBE,EAAhB,CAAmBtB,CAAnB,GAAuBxE,EAAE+E,GAAF,CAAM,CAAN,EAASP,CAAhC;AACAxE,MAAE2F,QAAF,CAAWC,IAAX,CAAgBE,EAAhB,CAAmBrB,CAAnB,GAAuBzE,EAAE+E,GAAF,CAAM,CAAN,EAASN,CAAhC;AACD;AAEF,C;;;;;;;;;;;;QCtJesB,M,GAAAA,M;;AALhB;;AACA;;AACA;;AACA;;AAEO,SAASA,MAAT,GAAkB;AACvB,OAAKhB,GAAL,GAAW,EAAX;AACA,OAAKC,OAAL,GAAe,EAAf;;AAEA,OAAKF,UAAL,GAAkB,EAAlB;;AAEA,OAAK,IAAI9C,IAAE,CAAX,EAAaA,IAAE,KAAK8C,UAApB,EAA+B9C,GAA/B,EAAoC;AAClC,SAAK+C,GAAL,CAAS/C,CAAT,IAAc,cAAd;AACA,SAAKgD,OAAL,CAAahD,CAAb,IAAkB,gBAAlB;AACD;AACD,OAAKuC,GAAL,GAAW,cAAX;AACA,OAAKzC,KAAL,GAAaQ,KAAK6C,EAAL,GAAQ,CAArB;AACA,OAAKC,WAAL,GAAmB9C,KAAK6C,EAAL,GAAQ,CAA3B;AACA,OAAKpB,KAAL,GAAa,CAAb;AACA,OAAKF,QAAL,GAAgB,CAAhB;AACA,OAAKC,QAAL,GAAgB,EAAhB;AACA,OAAKF,WAAL,GAAmB,CAAnB;AACA,OAAKe,WAAL,GAAmB,CAAnB;AACA,OAAKO,kBAAL,GAA0B,cAA1B;AACA,OAAKN,cAAL,GAAsB,EAAtB;AACA,OAAKC,cAAL,GAAsB,EAAtB;AACA,OAAKmB,cAAL,GAAsB,CAAtB;AACA,OAAKtB,WAAL,GAAmB,CAAnB;AACA,OAAKhB,YAAL,GAAoB,CAApB;AACA,OAAKO,QAAL,GAAgB,GAAhB;;AAEA,OAAKgC,IAAL,GAAY,GAAZ;AACA,OAAK3B,QAAL,GAAgB,GAAhB;;AAEA,OAAKqB,QAAL,GAAgB,gCAAhB;;AAEA,OAAKlF,KAAL,GAAa,kBAAb;;AAEA;AACA;;;;;;;;;;AAWA;AACA,OAAKyF,IAAL,GAAY,EAAZ;AACA,OAAKjB,OAAL,GAAe,EAAf;AACA,OAAK,IAAIjD,KAAE,CAAX,EAAaA,KAAE,KAAK8C,UAAL,GAAgB,CAA/B,EAAiC9C,IAAjC,EAAsC;AACpC,SAAKkE,IAAL,CAAUlE,EAAV,IAAe,IAAIlC,IAAIqG,IAAR,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAf;AACA,SAAKD,IAAL,CAAUlE,EAAV,EAAaoE,MAAb,GAAsB,gBAAtB;AACA,SAAKnB,OAAL,CAAajD,EAAb,IAAkB,KAAlB;AACD;AACD,OAAKqE,SAAL,GAAiB,UAAIC,SAAJ,CAAc,KAAKJ,IAAnB,CAAjB;AACA,OAAKG,SAAL,CAAeE,WAAf,CAA2BC,GAA3B,CAA+B,UAAIC,KAAJ,GAAU,CAAzC,EAA4C,UAAIC,MAAJ,GAAW,CAAvD;AACA,OAAKL,SAAL,CAAeM,SAAf,GAA2B,CAA3B;AACA,OAAKN,SAAL,CAAeO,MAAf;;AAEA,OAAKC,IAAL,GAAY,UAAIC,QAAJ,CAAa,EAAb,EAAgB,CAAhB,EAAkB,CAAlB,EAAoB,EAApB,EAAuB,CAAC,EAAxB,EAA2B,CAA3B,EAA6B,CAA7B,EAA+B,CAAC,EAAhC,EAAmC,KAAnC,CAAZ;;AAEA,OAAKC,KAAL,GAAa,UAAIT,SAAJ,CAAc,KAAKO,IAAnB,CAAb;AACA,OAAKE,KAAL,CAAWR,WAAX,CAAuBC,GAAvB,CAA2B,UAAIC,KAAJ,GAAU,CAArC,EAAwC,UAAIC,MAAJ,GAAW,CAAnD;AACA,OAAKK,KAAL,CAAWzC,QAAX,GAAsB,CAAtB;AACA,OAAKyC,KAAL,CAAWC,QAAX;AACD,C;;;;;;;;;;;;QCnEeC,mB,GAAAA,mB;;AAFhB;;AAEO,SAASA,mBAAT,CAA6BjH,CAA7B,EAAgC;AACrCA,IAAE+G,KAAF,CAAQR,WAAR,CAAoBC,GAApB,CAAwB,UAAIC,KAAJ,GAAU,CAAV,GAAczG,EAAE+E,GAAF,CAAM,CAAN,EAASP,CAA/C,EAAkD,UAAIkC,MAAJ,GAAW,CAAX,GAAe1G,EAAE+E,GAAF,CAAM,CAAN,EAASN,CAAT,GAAa,CAAC,CAA/E;AACAzE,IAAEqG,SAAF,CAAYE,WAAZ,CAAwBC,GAAxB,CAA4B,UAAIC,KAAJ,GAAU,CAAtC,EAAyC,UAAIC,MAAJ,GAAW,CAApD;AACA1G,IAAE+G,KAAF,CAAQzC,QAAR,GAAmB,CAACtE,EAAEoF,WAAtB;AACApF,IAAE+G,KAAF,CAAQG,IAAR,GAAelH,EAAEgF,OAAF,CAAU,CAAV,CAAf;AACA,OAAK,IAAIhD,IAAE,CAAX,EAAaA,IAAEhC,EAAE8E,UAAF,GAAa,CAA5B,EAA8B9C,GAA9B,EAAmC;AACjChC,MAAEkG,IAAF,CAAOlE,CAAP,EAAUmF,QAAV,CAAmB,CAAnB,EAAsB3C,CAAtB,GAA0BxE,EAAE+E,GAAF,CAAM/C,CAAN,EAASwC,CAAnC;AACAxE,MAAEkG,IAAF,CAAOlE,CAAP,EAAUmF,QAAV,CAAmB,CAAnB,EAAsB1C,CAAtB,GAA0BzE,EAAE+E,GAAF,CAAM/C,CAAN,EAASyC,CAAT,GAAa,CAAC,CAAxC;AACA,QAAIzE,EAAEiF,OAAF,CAAUjD,CAAV,CAAJ,EAAkB;AAChBhC,QAAEkG,IAAF,CAAOlE,CAAP,EAAUmF,QAAV,CAAmB,CAAnB,EAAsB3C,CAAtB,GAA0BxE,EAAE+E,GAAF,CAAM/C,CAAN,EAASwC,CAAnC;AACAxE,QAAEkG,IAAF,CAAOlE,CAAP,EAAUmF,QAAV,CAAmB,CAAnB,EAAsB1C,CAAtB,GAA0BzE,EAAE+E,GAAF,CAAM/C,CAAN,EAASyC,CAAT,GAAa,CAAC,CAAxC;AACD,KAHD,MAIK;AACHzE,QAAEkG,IAAF,CAAOlE,CAAP,EAAUmF,QAAV,CAAmB,CAAnB,EAAsB3C,CAAtB,GAA0BxE,EAAE+E,GAAF,CAAM/C,IAAE,CAAR,EAAWwC,CAArC;AACAxE,QAAEkG,IAAF,CAAOlE,CAAP,EAAUmF,QAAV,CAAmB,CAAnB,EAAsB1C,CAAtB,GAA0BzE,EAAE+E,GAAF,CAAM/C,IAAE,CAAR,EAAWyC,CAAX,GAAe,CAAC,CAA1C;AACD;AACDzE,MAAEkG,IAAF,CAAOlE,CAAP,EAAUoE,MAAV,GAAmBpG,EAAEgF,OAAF,CAAUhD,IAAE,CAAZ,CAAnB;AACD;AACF,C;;;;;;;;;;;;QCpBeoF,G,GAAAA,G;AAAT,SAASA,GAAT,GAA0B;AAAA,MAAb5C,CAAa,uEAAT,CAAS;AAAA,MAANC,CAAM,uEAAF,CAAE;;AAC/B,OAAKD,CAAL,GAASA,CAAT;AACA,OAAKC,CAAL,GAASA,CAAT;;AAEA,OAAK4C,GAAL,GAAW,UAASC,GAAT,EAAc;AACvB,WAAO,KAAK9C,CAAL,GAAO8C,IAAI9C,CAAX,GAAe,KAAKC,CAAL,GAAO6C,IAAI7C,CAAjC;AACD,GAFD;AAGD,C;;;;;;;;;;;;QCLe0B,I,GAAAA,I;;AAFhB;;AAEO,SAASA,IAAT,GAA6C;AAAA,MAA/BN,EAA+B,uEAA1B,cAA0B;AAAA,MAAfC,EAAe,uEAAV,cAAU;;AAClD,OAAKD,EAAL,GAAUA,EAAV;AACA,OAAKC,EAAL,GAAUA,EAAV;AACD,C;;;;;;;;;;;;QCHeyB,Y,GAAAA,Y;;AAFhB;;AAEO,SAASA,YAAT,GAAyC;AAAA,MAAnB3B,IAAmB,uEAAZ,gBAAY;;AAC9C,OAAKA,IAAL,GAAYA,IAAZ;AACD,C;;;;;;;;;;;;QCJe4B,K,GAAAA,K;AAAT,SAASA,KAAT,GAA4B;AAAA,MAAbhD,CAAa,uEAAT,CAAS;AAAA,MAANC,CAAM,uEAAF,CAAE;;AACjC,OAAKD,CAAL,GAASA,CAAT;AACA,OAAKC,CAAL,GAASA,CAAT;AACD,C;;;;;;;;;;;;;QCIegD,U,GAAAA,U;QAQAC,W,GAAAA,W;;AAfhB;;AACA;;AAEO,IAAIC,wBAAQ;AACjBC,kBAAiB;AADA,CAAZ;;AAIA,SAASH,UAAT,GAAsB;AAC3B,MAAI3F,QAAQ,CAAZ;AACA,OAAK,IAAIE,IAAE,CAAX,EAAaA,IAAE,EAAf,EAAkBA,GAAlB,EAAuB;AACrB2F,UAAMC,cAAN,CAAqB5F,CAArB,IAA0B,iCAAkB,iBAAU,MAAIM,KAAK8B,GAAL,CAAStC,KAAT,CAAd,EAA+B,MAAIQ,KAAK6B,GAAL,CAASrC,KAAT,CAAnC,CAAlB,EAAuE,EAAvE,CAA1B;AACAA,aAAS,IAAEQ,KAAK6C,EAAP,GAAU,EAAnB;AACD;AACF;;AAEM,SAASuC,WAAT,GAAuB;AAC5B,OAAK,IAAI1F,IAAE,CAAX,EAAaA,IAAE2F,MAAMC,cAAN,CAAqB7E,MAApC,EAA2Cf,GAA3C,EAAgD;AAC9C2F,UAAMC,cAAN,CAAqB5F,CAArB,EAAwB6F,MAAxB;AACD;AACF,C;;;;;;;;;;;;QCfeC,a,GAAAA,a;;AAJhB;;AACA;;AACA;;AAEO,SAASA,aAAT,GAAyD;AAAA,MAAlCC,MAAkC,uEAAzB,IAAIP,KAAJ,EAAyB;AAAA,MAAZQ,MAAY,uEAAH,CAAG;;AAC9D,OAAKD,MAAL,GAAcA,MAAd;AACA,OAAKC,MAAL,GAAcA,MAAd;AACA;AACA,OAAKC,cAAL,GAAsB,mCAAmB,KAAKD,MAAxB,EAAgC,KAAKD,MAArC,CAAtB;;AAEA,OAAKG,OAAL,GAAe,GAAf;AACA,OAAKC,MAAL,GAAc,uBAAd;;AAEA,OAAKC,MAAL,GAAc,KAAd;;AAEA,OAAKC,kBAAL,GAA0B,KAA1B;;AAEA,OAAKC,YAAL,GAAoB,UAAIC,UAAJ,CAAe,KAAKR,MAAL,CAAYvD,CAA3B,EAA8B,KAAKuD,MAAL,CAAYtD,CAA1C,EAA6C,KAAKuD,MAAlD,CAApB;AACA,OAAKM,YAAL,CAAkBpB,IAAlB,GAAyB,KAAKiB,MAA9B;AACA,OAAKG,YAAL,CAAkBtB,QAAlB;AACA,OAAKsB,YAAL,CAAkB/B,WAAlB,CAA8BC,GAA9B,CAAkC,KAAKuB,MAAL,CAAYvD,CAAZ,GAAgB,UAAIiC,KAAJ,GAAU,CAA5D,EAA+D,KAAKsB,MAAL,CAAYtD,CAAZ,GAAgB,CAAC,CAAjB,GAAqB,UAAIiC,MAAJ,GAAW,CAA/F;;AAEA,OAAKmB,MAAL,GAAc,YAAW;AACvB,QAAI,gCAAa,QAAElC,QAAf,EAAyB,KAAKsC,cAA9B,CAAJ,EAAmD;AACjD,UAAI,CAAC,KAAKI,kBAAV,EAA8B;AAC5B,aAAKG,MAAL;AACD;AACD,WAAKH,kBAAL,GAA0B,IAA1B;AACD,KALD,MAMK;AACH,WAAKA,kBAAL,GAA0B,KAA1B;AACD;;AAED,SAAKH,OAAL,GAAe,KAAKE,MAAL,GAAc9F,KAAKM,GAAL,CAAS,GAAT,EAAc,KAAKsF,OAAL,GAAa,IAA3B,CAAd,GAAiD5F,KAAK0B,GAAL,CAAS,GAAT,EAAc,KAAKkE,OAAL,GAAa,IAA3B,CAAhE;AACA,SAAKC,MAAL,GAAc,sBAAoB,KAAKD,OAAzB,GAAiC,GAA/C;AACA,SAAKI,YAAL,CAAkBpB,IAAlB,GAAyB,KAAKiB,MAA9B;AACD,GAdD;;AAgBA,OAAKK,MAAL,GAAc,YAAU;AACtB,SAAKJ,MAAL,IAAe,IAAf;AACD,GAFD;AAGD,C;;;;;;;;;;;;QCvCeK,c,GAAAA,c;;AAFhB;;AAEO,SAASA,cAAT,GAAyD;AAAA,MAAjCT,MAAiC,uEAAxB,CAAwB;AAAA,MAArBU,KAAqB,uEAAb,kBAAa;;AAC9D,OAAKV,MAAL,GAAcA,MAAd;AACA,OAAKU,KAAL,GAAaA,KAAb;AACD,C;;;;;;;;;;;;QCHeC,Y,GAAAA,Y;;AAFhB;;AAEO,SAASA,YAAT,CAAsBC,KAAtB,EAA6BC,OAA7B,EAAsC;AAC3C,MAAMC,IAAI,aAAQF,MAAMhD,IAAN,CAAWE,EAAX,CAActB,CAAd,GAAkBoE,MAAMhD,IAAN,CAAWC,EAAX,CAAcrB,CAAxC,EAA2CoE,MAAMhD,IAAN,CAAWE,EAAX,CAAcrB,CAAd,GAAkBmE,MAAMhD,IAAN,CAAWC,EAAX,CAAcpB,CAA3E,CAAV;AACA,MAAMsE,IAAI,aAAQH,MAAMhD,IAAN,CAAWC,EAAX,CAAcrB,CAAd,GAAkBqE,QAAQH,KAAR,CAAclE,CAAxC,EAA2CoE,MAAMhD,IAAN,CAAWC,EAAX,CAAcpB,CAAd,GAAkBoE,QAAQH,KAAR,CAAcjE,CAA3E,CAAV;;AAEA,MAAM5C,IAAIiH,EAAEzB,GAAF,CAAMyB,CAAN,CAAV;AACA,MAAME,IAAI,IAAID,EAAE1B,GAAF,CAAMyB,CAAN,CAAd;AACA,MAAMG,IAAIF,EAAE1B,GAAF,CAAM0B,CAAN,IAAWF,QAAQb,MAAR,GAAea,QAAQb,MAA5C;;AAEA,MAAIkB,eAAeF,IAAEA,CAAF,GAAI,IAAEnH,CAAF,GAAIoH,CAA3B;AACA,MAAIC,eAAe,CAAnB,EACA;AACE;AACD,GAHD,MAKA;AACE;AACA;AACA;;AAEAA,mBAAe5G,KAAKO,IAAL,CAAWqG,YAAX,CAAf;;AAEA;AACA;AACA;AACA,QAAMC,KAAK,CAAC,CAACH,CAAD,GAAKE,YAAN,KAAqB,IAAErH,CAAvB,CAAX;AACA,QAAMuH,KAAK,CAAC,CAACJ,CAAD,GAAKE,YAAN,KAAqB,IAAErH,CAAvB,CAAX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,QAAIsH,MAAM,CAAN,IAAWA,MAAM,CAArB,EACA;AACE;AACA;AACA;AACA,aAAO,IAAP;AACD;;AAED;AACA;AACA,QAAIC,MAAM,CAAN,IAAWA,MAAM,CAArB,EACA;AACE;AACA,aAAO,IAAP;AACD;;AAED,QAAID,KAAK,CAAL,IAAUC,KAAK,CAAnB,EAAsB;AACpB,aAAO,IAAP;AACD;;AAED;AACA,WAAO,KAAP;AACD;AACF,C","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cf67c84161e394dd4e90","import {player} from \"./player\";\r\nimport {physics} from \"./physics\";\r\nimport {updateRenderObjects} from \"./render\";\r\nimport {overrideKeyboardEvent, findInput} from \"./input\";\r\nimport {buildStage, updateStage} from \"./stage\";\r\n\r\n// setting up renderer\r\nconst elem = document.getElementById(\"game\");\r\nconst params = {fullscreen : true};\r\nexport const two = new Two(params).appendTo(elem);\r\n\r\n// build stage\r\nbuildStage();\r\n// setting up player\r\nexport const p = new player();\r\n\r\n// setting up other variables\r\nlet playing = false;\r\nconst startPrompt = document.getElementById(\"startPrompt\");\r\nconst pauseScreen = document.getElementById(\"pause\");\r\n\r\n// always handy to have this ready to inspect\r\nconsole.log(navigator.getGamepads());\r\n\r\n// defining the game logic loop\r\nfunction gameLoop() {\r\n  // get current input\r\n  p.input.updateInput();\r\n  // if hit start, pause/unpause\r\n  if (p.input.s[0] && !p.input.s[1]) {\r\n    playing ^= true;\r\n    pauseScreen.style.display = playing ? \"none\" : \"block\";\r\n  }\r\n  if (playing) {\r\n    physics(p);\r\n    updateStage();\r\n    updateRenderObjects(p);\r\n  }\r\n  setTimeout(function(){gameLoop()}, 16.666667);\r\n}\r\n\r\n// when page is loaded and it asks for input\r\nfunction start() {\r\n  if (!playing) {\r\n    if (findInput(p)){\r\n      // start game logic and render loops\r\n      playing = true;\r\n      startPrompt.remove();\r\n      gameLoop();\r\n      two.play();\r\n    }\r\n    setTimeout(function(){start()}, 16.6666667);\r\n  }\r\n}\r\n\r\n// overriding keyboard events to disable unwanted events and store properly\r\ndocument.onkeydown = overrideKeyboardEvent;\r\ndocument.onkeyup = overrideKeyboardEvent;\r\n\r\nstart();\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","export function input() {\r\n  this.controllerIndex = -1;\r\n  this.lStickX = [0];\r\n  this.lStickY = [0];\r\n  this.lTrigger = [0];\r\n  this.rTrigger = [0];\r\n  this.lBumper = [false];\r\n  this.rBumper = [false];\r\n  this.a = [false];\r\n  this.s = [false];\r\n\r\n  this.angle = [0];\r\n  this.magnitude = [0];\r\n\r\n  this.updateInput = function() {\r\n    // push inputs back a frame in history\r\n    for (let i=4;i>0;i--) {\r\n      this.lStickX[i] = this.lStickX[i-1];\r\n      this.lStickY[i] = this.lStickY[i-1];\r\n      this.a[i] = this.a[i-1];\r\n      this.lTrigger[i] = this.lTrigger[i-1];\r\n      this.rTrigger[i] = this.rTrigger[i-1];\r\n      this.lBumper[i] = this.lBumper[i-1];\r\n      this.rBumper[i] = this.rBumper[i-1];\r\n      this.s[i] = this.s[i-1];\r\n      this.angle[i] = this.angle[i-1];\r\n      this.magnitude[i] = this.magnitude[i-1];\r\n    }\r\n\r\n    // if using keyboard\r\n    if (this.controllerIndex === -1) {\r\n      this.lStickX[0] = ((keys[68] || keys[39]) ? 1 : 0) + ((keys[65] || keys[37]) ? -1 : 0);\r\n      this.lStickY[0] = ((keys[87] || keys[38]) ? 1 : 0) + ((keys[83] || keys[40]) ? -1 : 0);\r\n      this.a[0] = keys[32] || keys[90];\r\n      this.s[0] = keys[13] || keys[80];\r\n    }\r\n    // else if using a gamepad\r\n    else {\r\n      const gamepads = navigator.getGamepads();\r\n      const gamepad = gamepads[this.controllerIndex];\r\n      // if gamepad is unplugged or removed. change to keyboard\r\n      if (gamepad === null || gamepad === undefined) {\r\n        this.controllerIndex = -1;\r\n      }\r\n      else {\r\n        this.lStickX[0] = gamepad.axes[0];\r\n        this.lStickY[0] = gamepad.axes[1] * -1;\r\n        if (Math.abs(this.lStickY[0]) < 0.3 && Math.abs(this.lStickX[0]) < 0.3) {\r\n          this.lStickX[0] = 0;\r\n          this.lStickY[0] = 0;\r\n        }\r\n        this.a[0] = gamepad.buttons[0].pressed;\r\n        this.lTrigger[0] = gamepad.buttons[6].value;\r\n        this.rTrigger[0] = gamepad.buttons[7].value;\r\n        this.lBumper[0] = gamepad.buttons[4].pressed;\r\n        this.rBumper[0] = gamepad.buttons[5].pressed;\r\n        this.s[0] = gamepad.buttons[9].pressed;\r\n      }\r\n    }\r\n\r\n    // calculate new inputs\r\n    this.angle[0] = Math.atan2(this.lStickY[0], this.lStickX[0]);\r\n    this.magnitude[0] = Math.min(1, Math.sqrt(Math.pow(this.lStickX[0], 2) + Math.pow(this.lStickY[0], 2)));\r\n  }\r\n}\r\n\r\nexport function findInput(p) {\r\n  // if enter or space is hit\r\n  if (keys[13] || keys[32]) {\r\n    p.input.controllerIndex = -1;\r\n    return true;\r\n  }\r\n  // else look for a button press on a gamepad\r\n  else {\r\n    const gamepads = navigator.getGamepads();\r\n    for (let i=0;i<gamepads.length;i++) {\r\n      if (gamepads[i] !== null && gamepads[i] !== undefined) {\r\n        for (let j=0;j<gamepads[i].buttons.length;j++) {\r\n          if (gamepads[i].buttons[j].pressed) {\r\n            p.input.controllerIndex = i;\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nexport const keys = {};\r\n\r\nexport function overrideKeyboardEvent (e){\r\n  // do this for all keys except f5 and f11\r\n  if (e.keyCode != 122 && e.keyCode != 116){\r\n    switch(e.type){\r\n      case \"keydown\":\r\n        if (!keys[e.keyCode]) {\r\n          keys[e.keyCode] = true;\r\n        }\r\n        break;\r\n      case \"keyup\":\r\n        delete(keys[e.keyCode]);\r\n        break;\r\n    }\r\n    disabledEventPropagation(e);\r\n    e.preventDefault();\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n}\r\n\r\nfunction disabledEventPropagation (e){\r\n  if(e){\r\n    if(e.stopPropagation){\r\n      e.stopPropagation();\r\n    } else if(event){\r\n       event.cancelBubble = true;\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/input.js","export function physics(p) {\r\n\r\n  // current acceleration is throttle (rTrigger) plus negative brake (lTrigger), then scaled down to be more intuitive\r\n  p.acceleration = p.input.rTrigger[0] + p.input.lTrigger[0] * -1;\r\n\r\n  // use acceleration as a multiplier for a limit in slow or fast speed for the current frame\r\n  let limit = (p.acceleration < 0) ? p.normalSpeed + (p.minSpeed - p.normalSpeed) * -p.acceleration : p.normalSpeed + (p.maxSpeed - p.normalSpeed) * p.acceleration;\r\n\r\n  // apply realistic scale to acceleration\r\n  p.acceleration *= 0.05;\r\n\r\n  // if accelerating or decelerating. apply acceleration up to calculated min/max speeds\r\n  if (p.acceleration > 0) {\r\n    // if above current limit, conform to limit by friction\r\n    if (p.speed > limit) {\r\n      p.speed = Math.max(p.speed - p.friction, limit);\r\n    }\r\n    // else accelerate up to limit\r\n    else {\r\n      // if going slower than normal speed, accel by friction as well\r\n      if (p.speed < p.normalSpeed) {\r\n        p.speed = Math.min(p.speed + p.acceleration + p.friction, limit);\r\n      }\r\n      else {\r\n        p.speed = Math.min(p.speed + p.acceleration, limit);\r\n      }\r\n    }\r\n  }\r\n  else if (p.acceleration < 0) {\r\n    // if below current limit, conform to limit by friction\r\n    if (p.speed < limit) {\r\n      p.speed = Math.min(p.speed + p.friction, limit);\r\n    }\r\n    // else decelerate down to limit\r\n    else {\r\n      // if going faster than normal speed, decel by friction as well\r\n      if (p.speed > p.normalSpeed) {\r\n        p.speed = Math.max(p.speed + p.acceleration - p.friction, limit);\r\n      }\r\n      else {\r\n        p.speed = Math.max(p.speed + p.acceleration, limit);\r\n      } \r\n    } \r\n  }\r\n  // else, check if above/below normalSpeed and move towards it according to friction\r\n  else {\r\n    if (p.speed > p.normalSpeed) {\r\n      p.speed -= p.friction;\r\n      if (p.speed < p.normalSpeed) {\r\n        p.speed = p.normalSpeed;\r\n      }\r\n    }\r\n    else {\r\n      p.speed += p.friction;\r\n      if (p.speed > p.normalSpeed) {\r\n        p.speed = p.normalSpeed;\r\n      }\r\n    }\r\n  }\r\n\r\n  // find distance between target angle and current angle\r\n  let angDiff = (p.input.angle[0] - p.angle);\r\n \r\n  // make sure distance uses shortest path (check going through -pi / pi breakpoint)\r\n  angDiff = Math.atan2(Math.sin(angDiff), Math.cos(angDiff));\r\n\r\n  // move current angle towards target according to distance with multipliers\r\n\r\n  // this method eases towards the angle, sharp start slow finish\r\n  //p.angle += angDiff * p.ease * p.input.magnitude[0];\r\n\r\n  // this method moves towards the angle at a constant rate, great for circles\r\n  p.angle += Math.sign(angDiff) * Math.min(Math.abs(angDiff), p.rotation) * p.input.magnitude[0];\r\n\r\n  p.vel.x = Math.cos(p.angle) * p.speed;\r\n  p.vel.y = Math.sin(p.angle) * p.speed;\r\n\r\n  /*if (p.bumperSpeed > 0) {\r\n    p.bumperSpeed -= p.bumperFriction;\r\n    if (p.bumperSpeed < 0) {\r\n      p.bumperSpeed = 0;\r\n    }\r\n  }\r\n  else {\r\n    p.bumperSpeed += p.bumperFriction;\r\n    if (p.bumperSpeed > 0) {\r\n      p.bumperSpeed = 0;\r\n    }\r\n  }*/\r\n  if (p.bumperTimer > 0) {\r\n    p.bumperTimer--;\r\n    if (p.bumperTimer <= 0) {\r\n      p.bumperSpeed = 0;\r\n    }\r\n  }\r\n\r\n  if (p.input.lBumper[0] && !p.input.lBumper[1]) {\r\n    p.bumperSpeed = Math.max(-p.maxBumperSpeed, p.bumperSpeed - p.setBumperSpeed);\r\n    p.bumperTimer = 5;\r\n  }\r\n  if (p.input.rBumper[0] && !p.input.rBumper[1]) {\r\n    p.bumperSpeed = Math.min(p.maxBumperSpeed, p.bumperSpeed + p.setBumperSpeed);\r\n    p.bumperTimer = 5;\r\n  }\r\n\r\n  for (let i=p.tailLength-1;i>0;i--) {\r\n    p.pos[i].x = p.pos[i-1].x;\r\n    p.pos[i].y = p.pos[i-1].y;\r\n    p.colours[i] = p.colours[i-1];\r\n    p.wrapped[i] = p.wrapped[i-1];\r\n  }\r\n\r\n  p.rotatedBumperSpeed.x = Math.cos(p.angle-Math.PI/2) * p.bumperSpeed;\r\n  p.rotatedBumperSpeed.y = Math.sin(p.angle-Math.PI/2) * p.bumperSpeed;\r\n\r\n  p.pos[0].x += p.vel.x + p.rotatedBumperSpeed.x;\r\n  p.pos[0].y += p.vel.y + p.rotatedBumperSpeed.y;\r\n\r\n  p.renderAngle = Math.atan2(p.vel.y + p.rotatedBumperSpeed.y, p.vel.x + p.rotatedBumperSpeed.x);\r\n\r\n  // blastzone wrapping\r\n  const w = document.body.clientWidth + 20;\r\n  const h = document.body.clientHeight + 20;\r\n  p.wrapped[0] = false;\r\n  if (p.pos[0].x > w/2) {\r\n    p.pos[0].x -= w;\r\n    p.wrapped[0] = true;\r\n  }\r\n  else if (p.pos[0].x < -w/2) {\r\n    p.pos[0].x += w;\r\n    p.wrapped[0] = true;\r\n  }\r\n  if (p.pos[0].y > h/2) {\r\n    p.pos[0].y -= h;\r\n    p.wrapped[0] = true;\r\n  }\r\n  else if (p.pos[0].y < -h/2) {\r\n    p.pos[0].y += h;\r\n    p.wrapped[0] = true;\r\n  }\r\n\r\n  // calculating colour between green and red for current frame according to speed\r\n  p.colours[0] = \"rgb(\"+Math.round(Math.max(0, Math.min(255, ((p.maxSpeed-p.speed)/(p.maxSpeed - p.normalSpeed))*255)))+\",\"+Math.round(Math.max(0, Math.min(255, ((p.speed-p.minSpeed)/(p.normalSpeed - p.minSpeed))*255)))+\",0)\";\r\n\r\n  p.collider.line.p1.x = p.pos[0].x;\r\n  p.collider.line.p1.y = p.pos[0].y;\r\n  if (p.wrapped[0]) {\r\n    p.collider.line.p2.x = p.pos[0].x;\r\n    p.collider.line.p2.y = p.pos[0].y;\r\n  }\r\n  else {\r\n    p.collider.line.p2.x = p.pos[1].x;\r\n    p.collider.line.p2.y = p.pos[1].y;\r\n  }\r\n  \r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/physics.js","import {Vec} from \"./utils/Vec\";\r\nimport {LineCollider} from \"./utils/LineCollider\";\r\nimport {two} from \"./main\";\r\nimport {input} from \"./input\";\r\n\r\nexport function player() {\r\n  this.pos = [];\r\n  this.colours = [];\r\n\r\n  this.tailLength = 94;\r\n\r\n  for (let i=0;i<this.tailLength;i++) {\r\n    this.pos[i] = new Vec();\r\n    this.colours[i] = \"rgb(255,255,0)\";\r\n  }\r\n  this.vel = new Vec();\r\n  this.angle = Math.PI/2;\r\n  this.renderAngle = Math.PI/2;\r\n  this.speed = 5;\r\n  this.minSpeed = 2;\r\n  this.maxSpeed = 10;\r\n  this.normalSpeed = 5;\r\n  this.bumperSpeed = 0;\r\n  this.rotatedBumperSpeed = new Vec();\r\n  this.maxBumperSpeed = 15;\r\n  this.setBumperSpeed = 10;\r\n  this.bumperFriction = 5;\r\n  this.bumperTimer = 0;\r\n  this.acceleration = 0;\r\n  this.friction = 0.1;\r\n\r\n  this.ease = 0.2;\r\n  this.rotation = 0.1;\r\n\r\n  this.collider = new LineCollider();\r\n\r\n  this.input = new input();\r\n\r\n  // this is for a tail as a singular path\r\n  /*this.tail = [];\r\n  for (let i=0;i<this.tailLength-1;i++) {\r\n    this.tail[i] = new Two.Anchor(0, 0, 0, 0, 0, 0, Two.Commands.line);\r\n  }\r\n\r\n  this.tailPath = new Two.Path(this.tail, false, false);\r\n  this.tailGroup = two.makeGroup(this.tailPath);\r\n  this.tailGroup.translation.set(two.width/2, two.height/2);\r\n  this.tailGroup.linewidth = 5;\r\n  this.tailGroup.noFill();*/\r\n\r\n  // this is for a tail with many connected but seperate lines\r\n  this.tail = [];\r\n  this.wrapped = [];\r\n  for (let i=0;i<this.tailLength-1;i++) {\r\n    this.tail[i] = new Two.Line(0, 0, 0, 0);\r\n    this.tail[i].stroke = \"rgb(255,255,0)\";\r\n    this.wrapped[i] = false;\r\n  }\r\n  this.tailGroup = two.makeGroup(this.tail);\r\n  this.tailGroup.translation.set(two.width/2, two.height/2);\r\n  this.tailGroup.linewidth = 5;\r\n  this.tailGroup.noFill();\r\n\r\n  this.head = two.makePath(20,0,0,10,-20,0,0,-10,false);\r\n\r\n  this.group = two.makeGroup(this.head);\r\n  this.group.translation.set(two.width/2, two.height/2);\r\n  this.group.rotation = 0;\r\n  this.group.noStroke();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/player.js","import {two, tail} from \"./main\";\r\n\r\nexport function updateRenderObjects(p) {\r\n  p.group.translation.set(two.width/2 + p.pos[0].x, two.height/2 + p.pos[0].y * -1);\r\n  p.tailGroup.translation.set(two.width/2, two.height/2);\r\n  p.group.rotation = -p.renderAngle;\r\n  p.group.fill = p.colours[0];\r\n  for (let i=0;i<p.tailLength-1;i++) {\r\n    p.tail[i].vertices[0].x = p.pos[i].x;\r\n    p.tail[i].vertices[0].y = p.pos[i].y * -1;\r\n    if (p.wrapped[i]) {\r\n      p.tail[i].vertices[1].x = p.pos[i].x;\r\n      p.tail[i].vertices[1].y = p.pos[i].y * -1;\r\n    }\r\n    else {\r\n      p.tail[i].vertices[1].x = p.pos[i+1].x;\r\n      p.tail[i].vertices[1].y = p.pos[i+1].y * -1;\r\n    }\r\n    p.tail[i].stroke = p.colours[i+1];\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/render.js","export function Vec(x = 0, y = 0){\r\n  this.x = x;\r\n  this.y = y;\r\n\r\n  this.Dot = function(vec) {\r\n    return this.x*vec.x + this.y*vec.y;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/Vec.js","import {Vec} from \"./Vec\";\r\n\r\nexport function Line(p1 = new Vec(), p2 = new Vec()){\r\n  this.p1 = p1;\r\n  this.p2 = p2;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/Line.js","import {Line} from \"./Line\";\r\n\r\nexport function LineCollider(line = new Line()) {\r\n  this.line = line;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/LineCollider.js","export function Point(x = 0, y = 0){\r\n  this.x = x;\r\n  this.y = y;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/Point.js","import {steppingStone} from \"./gameObjects/steppingStone\";\r\nimport {Point} from \"./utils/Point\";\r\n\r\nexport let stage = {\r\n  steppingStones : []\r\n}\r\n\r\nexport function buildStage() {\r\n  let angle = 0;\r\n  for (let i=0;i<12;i++) {\r\n    stage.steppingStones[i] = new steppingStone(new Point(200*Math.cos(angle), 200*Math.sin(angle)), 25);\r\n    angle += 2*Math.PI/12;\r\n  }\r\n}\r\n\r\nexport function updateStage() {\r\n  for (let i=0;i<stage.steppingStones.length;i++) {\r\n    stage.steppingStones[i].update();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/stage.js","import {CircleCollider} from \"../utils/CircleCollider\";\r\nimport {two, p} from \"../main\";\r\nimport {LineVsCircle} from \"../utils/LineVsCircle\";\r\n\r\nexport function steppingStone(center = new Point(), radius = 0) {\r\n  this.center = center;\r\n  this.radius = radius;\r\n  // if changing center/radius, remember to change collider props\r\n  this.circleCollider = new CircleCollider(this.radius, this.center);\r\n\r\n  this.opacity = 0.2;\r\n  this.colour = \"rgba(255,255,255,0.2)\";\r\n\r\n  this.switch = false;\r\n\r\n  this.steppedOnLastFrame = false;\r\n\r\n  this.circleRender = two.makeCircle(this.center.x, this.center.y, this.radius);\r\n  this.circleRender.fill = this.colour;\r\n  this.circleRender.noStroke();\r\n  this.circleRender.translation.set(this.center.x + two.width/2, this.center.y * -1 + two.height/2)\r\n\r\n  this.update = function() {\r\n    if (LineVsCircle(p.collider, this.circleCollider)) {\r\n      if (!this.steppedOnLastFrame) {\r\n        this.onStep();\r\n      }\r\n      this.steppedOnLastFrame = true;\r\n    }\r\n    else {\r\n      this.steppedOnLastFrame = false;\r\n    }\r\n\r\n    this.opacity = this.switch ? Math.min(0.8, this.opacity+0.02) : Math.max(0.2, this.opacity-0.02);\r\n    this.colour = \"rgba(255,255,255,\"+this.opacity+\")\";\r\n    this.circleRender.fill = this.colour;\r\n  }\r\n\r\n  this.onStep = function(){\r\n    this.switch ^= true;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/gameObjects/steppingStone.js","import {Point} from \"./Point\";\r\n\r\nexport function CircleCollider(radius = 0, point = new Point()) {\r\n  this.radius = radius;\r\n  this.point = point;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/CircleCollider.js","import {Vec} from \"./Vec\";\r\n\r\nexport function LineVsCircle(lineC, circleC) {\r\n  const d = new Vec(lineC.line.p2.x - lineC.line.p1.x, lineC.line.p2.y - lineC.line.p1.y);\r\n  const f = new Vec(lineC.line.p1.x - circleC.point.x, lineC.line.p1.y - circleC.point.y);\r\n\r\n  const a = d.Dot(d);\r\n  const b = 2 * f.Dot(d);\r\n  const c = f.Dot(f) - circleC.radius*circleC.radius;\r\n\r\n  let discriminant = b*b-4*a*c;\r\n  if( discriminant < 0 )\r\n  {\r\n    // no intersection\r\n  }\r\n  else\r\n  {\r\n    // ray didn't totally miss sphere,\r\n    // so there is a solution to\r\n    // the equation.\r\n\r\n    discriminant = Math.sqrt( discriminant );\r\n\r\n    // either solution may be on or off the ray so need to test both\r\n    // t1 is always the smaller value, because BOTH discriminant and\r\n    // a are nonnegative.\r\n    const t1 = (-b - discriminant)/(2*a);\r\n    const t2 = (-b + discriminant)/(2*a);\r\n\r\n    // 3x HIT cases:\r\n    //          -o->             --|-->  |            |  --|->\r\n    // Impale(t1 hit,t2 hit), Poke(t1 hit,t2>1), ExitWound(t1<0, t2 hit), \r\n\r\n    // 3x MISS cases:\r\n    //       ->  o                     o ->              | -> |\r\n    // FallShort (t1>1,t2>1), Past (t1<0,t2<0), CompletelyInside(t1<0, t2>1)\r\n\r\n    if( t1 >= 0 && t1 <= 1 )\r\n    {\r\n      // t1 is the intersection, and it's closer than t2\r\n      // (since t1 uses -b - discriminant)\r\n      // Impale, Poke\r\n      return true ;\r\n    }\r\n\r\n    // here t1 didn't intersect so we are either started\r\n    // inside the sphere or completely past it\r\n    if( t2 >= 0 && t2 <= 1 )\r\n    {\r\n      // ExitWound\r\n      return true ;\r\n    }\r\n\r\n    if (t1 < 0 && t2 > 1) {\r\n      return true;\r\n    }\r\n\r\n    // no intn: FallShort, Past, CompletelyInside\r\n    return false ;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/LineVsCircle.js"],"sourceRoot":""}